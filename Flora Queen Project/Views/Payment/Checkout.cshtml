@using Flora_Queen_Project.Models
@model Flora_Queen_Project.Models.CheckoutViewModel


@{
    ViewBag.Title = "Checkout";
    var cartReview = ViewBag.ShopCartReview as List<CartItem>;
}

@section header_class
{oth-page}
@section logo_head_class
{col-md-6 col-sm-5 col-6}



<div class="ht__bradcaump__area bg-image--6">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="bradcaump__inner text-center">
                    <h2 class="bradcaump-title">Checkout</h2>
                    <nav class="bradcaump-content">
                        <a class="breadcrumb_item" href="@Url.Action("Index","Home")">Home</a>
                        <span class="brd-separetor">/</span>
                        <span class="breadcrumb_item active">Checkout</span>
                    </nav>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- End Bradcaump area -->
<!-- Start Checkout Area -->
<section class="wn__checkout__area section-padding--lg bg__white">
    <div class="container cart-has-item">
        <div class="row">
            <div class="col-lg-12">
                <div class="wn_checkout_wrap">
                    <div class="checkout_info">
                        <span>Have a coupon? </span>
                        <a class="showcoupon" href="#">Click here to enter your code</a>
                    </div>
                    <div class="checkout_coupon">
                        <form action="#">
                            <div class="form__coupon">
                                <input type="text" placeholder="Coupon code">
                                <button>Apply coupon</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-6 col-12">
                @using (Html.BeginForm("Checkout", "Payment", FormMethod.Post, new { @class = "customer_details" }))
                {
                    @Html.AntiForgeryToken()
                    <h3>Billing details</h3>
                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                    <div class="customar__field">
                        <div class="margin_between">
                            <div class="input_box space_between">
                                @Html.LabelFor(model => model.Firstname, htmlAttributes: new { @class = "control-label" })
                                @Html.EditorFor(model => model.Firstname, new { htmlAttributes = new { @class = "form-control" } })
                                @Html.ValidationMessageFor(model => model.Firstname, "", new { @class = "text-danger" })
                            </div>
                            <div class="input_box space_between">
                                @Html.LabelFor(model => model.Lastname, htmlAttributes: new { @class = "control-label" })
                                @Html.EditorFor(model => model.Lastname, new { htmlAttributes = new { @class = "form-control" } })
                                @Html.ValidationMessageFor(model => model.Lastname, "", new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="input_box">
                            @Html.LabelFor(model => model.CompanyName, htmlAttributes: new { @class = "control-label" })
                            @Html.EditorFor(model => model.CompanyName, new { htmlAttributes = new { @class = "form-control" } })
                            @Html.ValidationMessageFor(model => model.CompanyName, "", new { @class = "text-danger" })
                        </div>
                        @*<div class="input_box">
                            <label>Country<span>*</span></label>
                            <select class="select__option">
                                <option>Select a country…</option>
                                <option>Afghanistan</option>
                                <option>American Samoa</option>
                                <option>Anguilla</option>
                                <option>American Samoa</option>
                                <option>Antarctica</option>
                                <option>Antigua and Barbuda</option>
                            </select>
                        </div>*@
                        <div class="input_box">
                            @Html.LabelFor(model => model.Address, htmlAttributes: new { @class = "control-label" })
                            @Html.EditorFor(model => model.Address, new { htmlAttributes = new { @class = "form-control" } })
                            @Html.ValidationMessageFor(model => model.Address, "", new { @class = "text-danger" })
                        </div>
                        @*<div class="input_box">
                            <input type="text" placeholder="Apartment, suite, unit etc. (optional)">
                        </div>
                        <div class="input_box">
                            <label>District<span>*</span></label>
                            <select class="select__option">
                                <option>Select a country…</option>
                                <option>Afghanistan</option>
                                <option>American Samoa</option>
                                <option>Anguilla</option>
                                <option>American Samoa</option>
                                <option>Antarctica</option>
                                <option>Antigua and Barbuda</option>
                            </select>
                        </div>*@
                        <div class="input_box">
                            @Html.LabelFor(model => model.ZipCode, htmlAttributes: new { @class = "control-label" })
                            @Html.EditorFor(model => model.ZipCode, new { htmlAttributes = new { @class = "form-control" } })
                            @Html.ValidationMessageFor(model => model.ZipCode, "", new { @class = "text-danger" })
                        </div>
                        <div class="margin_between">
                            <div class="input_box space_between">
                                @Html.LabelFor(model => model.Phone, htmlAttributes: new { @class = "control-label" })
                                @Html.EditorFor(model => model.Phone, new { htmlAttributes = new { @class = "form-control" } })
                                @Html.ValidationMessageFor(model => model.Phone, "", new { @class = "text-danger" })
                            </div>
                            <div class="input_box space_between">
                                @Html.LabelFor(model => model.Email, htmlAttributes: new { @class = "control-label" })
                                @Html.EditorFor(model => model.Email, new { htmlAttributes = new { @class = "form-control" } })
                                @Html.ValidationMessageFor(model => model.Email, "", new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="input_box">
                            @Html.LabelFor(model => model.PaymentMethod, htmlAttributes: new { @class = "control-label" })
                            @Html.EnumDropDownListFor(model => model.PaymentMethod, "--------",
                                new {  @class = "select__option form-control"  })
                            @Html.ValidationMessageFor(model => model.PaymentMethod, "", new { @class = "text-danger" })
                        </div>
                        <div class="input_box">
                            <input type="submit" value="Confirm Checkout" />
                        </div>
                    </div>
                }
            </div>
            <div class="col-lg-6 col-12 md-mt-40 sm-mt-40">
                <div class="wn__order__box">
                    <h3 class="onder__title">Your order</h3>
                    <ul class="order__total">
                        <li>Product</li>
                        <li>Total</li>
                    </ul>
                    <ul class="order_product">
                        @if (cartReview != null)
                        {
                            foreach (var item in cartReview)
                            {
                                <li>
                                    @item.name × @item.count   
                                    @* ReSharper disable once CompareOfFloatsByEqualityOperator *@
                                    <text class="current-price-cart @(item.discount == 1? "d-none" : "")">@((-1 + item.discount) * 100)%</text>
                                    <span>$@item.total</span>
                                </li>
                            }
                        }
                    </ul>
                    <ul class="shipping__method">
                        <li>Cart Subtotal <span class="subtotal-cart-checkout">$@(cartReview?.Sum(item => item.total) ?? 0)</span></li>
                        @*<li>
                            Shipping
                            <ul>
                                <li>
                                    <input name="shipping_method[0]" data-index="0" value="legacy_flat_rate" checked="checked" type="radio">
                                    <label>Flat Rate: $48.00</label>
                                </li>
                                <li>
                                    <input name="shipping_method[0]" data-index="0" value="legacy_flat_rate" checked="checked" type="radio">
                                    <label>Flat Rate: $48.00</label>
                                </li>
                            </ul>
                        </li>*@
                    </ul>
                    <ul class="total__amount">
                        <li>Order Total <span class="total-cart-checkout">$@(cartReview?.Sum(item => item.total) ?? 0)</span></li>
                    </ul>
                </div>
                <div id="accordion" class="checkout_accordion mt--30" role="tablist">
                    <div class="payment">
                        <div class="che__header" role="tab" id="headingOne">
                            <a class="checkout__title" data-toggle="collapse" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                <span>Direct Bank Transfer</span>
                            </a>
                        </div>
                        <div id="collapseOne" class="collapse show" role="tabpanel" aria-labelledby="headingOne" data-parent="#accordion">
                            <div class="payment-body">Make your payment directly into our bank account. Please use your Order ID as the payment reference. Your order won’t be shipped until the funds have cleared in our account.</div>
                        </div>
                    </div>
                    <div class="payment">
                        <div class="che__header" role="tab" id="headingTwo">
                            <a class="collapsed checkout__title" data-toggle="collapse" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                <span>Cheque Payment</span>
                            </a>
                        </div>
                        <div id="collapseTwo" class="collapse" role="tabpanel" aria-labelledby="headingTwo" data-parent="#accordion">
                            <div class="payment-body">Please send your cheque to Store Name, Store Street, Store Town, Store State / County, Store Postcode.</div>
                        </div>
                    </div>
                    <div class="payment">
                        <div class="che__header" role="tab" id="headingThree">
                            <a class="collapsed checkout__title" data-toggle="collapse" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                <span>Cash on Delivery</span>
                            </a>
                        </div>
                        <div id="collapseThree" class="collapse" role="tabpanel" aria-labelledby="headingThree" data-parent="#accordion">
                            <div class="payment-body">Pay with cash upon delivery.</div>
                        </div>
                    </div>
                    <div class="payment">
                        <div class="che__header" role="tab" id="headingFour">
                            <a class="collapsed checkout__title" data-toggle="collapse" href="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                <span>PayPal <img src="~/Content/Boighor Homepage/images/icons/payment.png" alt="payment images"> </span>
                            </a>
                        </div>
                        <div id="collapseFour" class="collapse" role="tabpanel" aria-labelledby="headingFour" data-parent="#accordion">
                            <div class="payment-body">Pay with cash upon delivery.</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>