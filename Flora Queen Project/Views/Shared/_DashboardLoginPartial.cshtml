@using Microsoft.AspNet.Identity



<li class="nav-item nav-profile">
    <a data-toggle="collapse" href="#drop-down-profile"
       aria-controls="drop-down-profile" class="nav-link">
        @if (Request.IsAuthenticated)
        {
            <div class="nav-profile-image">
                <img src="https://res.cloudinary.com/senbonzakura/image/upload/c_scale,w_100/v1573316231/images/faces/avatar_jeogra.jpg" alt="profile">
                <span class="login-status online"></span>
                <!--change to offline or busy as needed-->
            </div>
            <div class="nav-profile-text d-flex flex-column">
                <span class="font-weight-bold mb-2">@User.Identity.GetUserName()</span>
                <span class="text-secondary text-small">Admin</span>
            </div>
            <i class="mdi mdi-bookmark-check text-success nav-profile-badge"></i>
        }
        else
        {
            <div class="nav-profile-text d-flex flex-column">
                <span class="font-weight-bold mb-2">User</span>
            </div>
        }
    </a>

    <div class="collapse" id="drop-down-profile">
        <ul class="nav flex-column sub-menu">
            @if (Request.IsAuthenticated)
            {
                using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "d-none" }))
                {
                    @Html.AntiForgeryToken()
                }
                <li class="nav-item">
                    @* ReSharper disable once Html.IdNotResolved *@
                    <a class="nav-link"
                       href="javascript:document.getElementById('logoutForm').submit()">Logout</a>
                </li>
            }
        </ul>
    </div>
</li>


